{"mappings":"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","sources":["src/js/services.js","src/js/modules/subscr-modal.js","src/js/modules/user-order-form.js","src/js/modules/modal.js","src/js/modules/support-modal.js"],"sourcesContent":["import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/modal.js';\nimport './modules/support-modal.js';\n","import { initializeModal } from './modal';\n\nexport const refsSubscr = {\n  name: 'subscription',\n  openModalBtn: document.querySelector('[data-subscription-modal-open]'),\n  closeModalBtn: document.querySelector('[data-subscription-modal-close]'),\n  modal: document.querySelector('[data-subscription-modal]'),\n  backdrop: document.querySelector('.backdrop--subscr'),\n};\n\ninitializeModal(refsSubscr);\n","import { refsSubscr } from './subscr-modal';\nimport { toggleModal } from './modal';\nexport const subscForm = document.querySelector('.subscr__form');\nconst paymentBtnList = document.querySelectorAll('.payment__btn');\nconst errorMessage = document.querySelector('.form__error-text');\nconst formInputList = document.querySelectorAll('.form__input');\nsubscForm?.addEventListener('submit', onSubmitForm);\n\npaymentBtnList.forEach(el => {\n  el.addEventListener('click', e => {\n    onPaymentTypeBtnClick(e);\n    const isErrorMessageVisible = !errorMessage.classList.contains('isHidden');\n    if (isErrorMessageVisible) {\n      togglePaymentTypeErrorVisibility();\n    }\n  });\n});\nformInputList.forEach(el => {\n  el.addEventListener('focus', () => {\n    el.classList.remove('error');\n  });\n});\n\nconst validationFields = [\n  'userName',\n  'userSurname',\n  'userTel',\n  'userEmail',\n  'userLocation',\n  'userDate',\n  'userTime',\n];\n\nconst userOrderData = {\n  userTypePayment: '',\n};\n\nfunction validateFields(elements, fieldNames) {\n  return fieldNames\n    .filter(fieldName => elements[fieldName].value.trim() === '')\n    .map(fieldName => elements[fieldName]);\n}\n\nexport function resetErrors(elements) {\n  [...elements].forEach(element => {\n    element.classList.remove('error');\n  });\n}\n\nfunction addErrorClass(elementsWithErrors) {\n  console.log('elementsWithErrors: ', elementsWithErrors);\n  elementsWithErrors.forEach(element => {\n    element.classList.add('error');\n  });\n}\n\nfunction checkIfPaymentTypeChosen() {\n  return [...paymentBtnList].some(btn => btn.classList.contains('active'));\n}\n\nfunction togglePaymentTypeErrorVisibility() {\n  errorMessage.classList.toggle('isHidden');\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const elements = e.currentTarget.elements;\n  const elementsWithErrors = validateFields(elements, validationFields);\n  resetErrors(elements);\n  addErrorClass(elementsWithErrors);\n  const isPaymentTypeChosen = checkIfPaymentTypeChosen();\n  const isAnyError = elementsWithErrors.length > 0;\n  if (!isPaymentTypeChosen) {\n    togglePaymentTypeErrorVisibility();\n  }\n  if (!isPaymentTypeChosen || isAnyError) {\n    return;\n  }\n  setOrderDataObj(e.target);\n  toggleModal(refsSubscr);\n}\n\nfunction onPaymentTypeBtnClick(e) {\n  const clickedButton = e.target.closest('button');\n  setPaymentTypeInOrderObj(clickedButton);\n  if (clickedButton.classList.contains('active')) return;\n  [...paymentBtnList].forEach(button => {\n    if (button === clickedButton) {\n      button.classList.add('active');\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n\nfunction setPaymentTypeInOrderObj(paymentBtn) {\n  const paymentType = paymentBtn.getAttribute('data-id');\n  userOrderData.userTypePayment = paymentType;\n}\n\nfunction setOrderDataObj(form) {\n  const formData = new FormData(form);\n  formData.forEach((value, key) => {\n    if (key.startsWith('user')) {\n      userOrderData[key] = value;\n    }\n  });\n  console.log('userOrderData: ', userOrderData);\n}\n","import { resetErrors } from './user-order-form';\nimport { subscForm } from './user-order-form';\n\nexport function initializeModal(refs) {\n  refs.openModalBtn.addEventListener('click', () => toggleModal(refs));\n  refs.closeModalBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    toggleModal(refs);\n  });\n  refs.backdrop.addEventListener('click', e => {\n    if (e.target === refs.backdrop) {\n      toggleModal(refs);\n    }\n  });\n}\n\nexport function toggleModal(refs) {\n  document.body.classList.toggle(`${refs.name}-modal-open`);\n  refs.modal.classList.toggle('backdrop--hidden');\n  if (refs.name === 'subscription') resetErrors(subscForm?.elements);\n}\n","import { initializeModal } from './modal';\n\nconst refsSupport = {\n  name: 'support',\n  openModalBtn: document.querySelector('[data-support-modal-open]'),\n  closeModalBtn: document.querySelector('[data-support-modal-close]'),\n  modal: document.querySelector('[data-support-modal]'),\n  backdrop: document.querySelector('.backdrop--support'),\n};\n\ninitializeModal(refsSupport);\n"],"names":["parcelRequire","$1abf2bce532be580$export$6406821d17d9075f","name","openModalBtn","document","querySelector","closeModalBtn","modal","backdrop","$c549e00ea1028b97$export$aa9b0c0080dbe389","$5f6fe576bb8e45fb$export$ac2141f83bb6e17f","$5f6fe576bb8e45fb$var$paymentBtnList","querySelectorAll","$5f6fe576bb8e45fb$var$errorMessage","$5f6fe576bb8e45fb$var$formInputList","addEventListener","e","preventDefault","elements","currentTarget","elementsWithErrors","fieldNames","filter","fieldName","value","trim","map","$5f6fe576bb8e45fb$var$validateFields","$5f6fe576bb8e45fb$var$validationFields","$5f6fe576bb8e45fb$export$16b70c0fc68d4705","console","log","forEach","element","classList","add","$5f6fe576bb8e45fb$var$addErrorClass","isPaymentTypeChosen","some","btn","contains","isAnyError","length","$5f6fe576bb8e45fb$var$togglePaymentTypeErrorVisibility","form","target","FormData","key","startsWith","$5f6fe576bb8e45fb$var$userOrderData","$c549e00ea1028b97$export$313c6d35f75fc0e","el","clickedButton","closest","paymentBtn","paymentType","getAttribute","userTypePayment","$5f6fe576bb8e45fb$var$setPaymentTypeInOrderObj","button","remove","$5f6fe576bb8e45fb$var$onPaymentTypeBtnClick","toggle","refs","stopPropagation","body"],"version":3,"file":"services.348f5d54.js.map"}