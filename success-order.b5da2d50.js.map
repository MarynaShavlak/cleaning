{"mappings":"oeAAAA,EAAA,S,iCCAA,IAAAC,EAAAD,EAAA,S,aAEA,MAAME,GAAmB,EAAAC,EAAAC,oBAAmB,oBACtCC,EAAgBC,SAASC,cAAc,iCACvCC,EAAYF,SAASC,cAAc,6BACnCE,EAAiBH,SAASC,cAAc,qBACxCG,EAAoBJ,SAASC,cACjC,uCAoBF,SAASI,EAAyBC,GAChC,MAAMC,EAAOP,SAASC,cACpB,6CAGAM,EAAKC,YADHF,EAsBN,SAA4BG,GAC1B,MAAMC,WAAEA,EAAUC,aAAEA,GAAiBF,EAC/BG,EAAYC,GAChBC,WAAWD,EAAKE,QAAQ,KAAO,IAAIA,QAAQ,IAAK,MAE5CC,EAAaJ,EAAUF,EAAWG,MAClCI,EAAoBN,EAAaO,QACrC,CAACC,EAAKC,IAAYD,EAAMP,EAAUQ,EAAQP,OAC1C,GAGF,MAAO,GAAGG,EAAaC,K,CAhCFI,CAAmBzB,GAEnB,O,CASvB,SAAS0B,EAAeC,EAAMC,EAAUX,GACtC,MAAMY,EAASzB,SAAS0B,cAAc,MAMtC,OALAD,EAAOE,UAAY,yCACiBJ,wEACyBC,oEACJX,aAElDY,C,CAiBT,SAASG,IACP,MAAMlB,WAAEA,EAAUC,aAAEA,GAAiBf,EAC/BU,EAC2B,KAA/BI,EAAWc,SAASK,QAA4C,KAA3BnB,EAAWG,KAAKgB,OAEvD,GAAIvB,EAAgB,CAClB,MAAMmB,EAASH,EACb,YACAZ,EAAWc,SACXd,EAAWG,OAEb,EAAAlB,EAAAmC,eAAc1B,EAAmBqB,GASrC,SAA6Bd,GAC3BA,EAAaoB,SAAQ,EAACR,KAAEA,EAAIC,SAAEA,EAAQX,KAAEA,MACtC,MAAMmB,EAAaV,EAAeC,EAAMC,EAAUX,IAClD,EAAAlB,EAAAmC,eAAc1B,EAAmB4B,EAAW,G,CAX5CC,CAAoBtB,E,MAEpBuB,EAAUnC,IAiBd,SAAgCO,GAC1BA,EACFH,EAAegC,UAAUC,IAAI,kBAE7BjC,EAAegC,UAAUE,OAAO,iB,CAnBlCC,CAAuBhC,GACvBD,EAAyBC,E,CAU3B,SAAS4B,EAAUK,GACjBA,EAAMC,MAAMC,QAAU,M,CAtFFzC,SAASC,cAAc,qBAC/ByC,iBAAiB,SAAS,KACtC,EAAA7C,EAAA8C,mBAAkB,sBAgGd/C,GA5FJgD,OAAOC,QAAQjD,GAAkBmC,SAAQ,EAAEe,EAAKC,MAC9C,MAAMC,EAAUhD,SAASC,cACvB,qCAAqC6C,OAGnCE,IACFA,EAAQxC,YAAcuC,EAgB5B,SAA0BE,EAAKF,GACzBE,IACFA,EAAIT,MAAMC,QAAUM,EAAQ,GAAK,O,CAjB/BG,CAAiBF,EAAQG,cAAeJ,G,IAuF1CnB,MAEAM,EAAUhC,GACVgC,EAAUnC,I","sources":["src/js/success-order.js","src/js/modules/success-order-table.js"],"sourcesContent":["import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/theme-toggler.js';\nimport './modules/scroll-to-top.js';\nimport './modules/success-order-table.js';\nimport './modules/location-modal.js';\n","import { appendElement } from './common';\nimport { getDataFromStorage, resetLocalStorage } from './local-storage';\nconst userOrderDataObj = getDataFromStorage('userOrderDataObj');\nconst tableServices = document.querySelector('.success-order-services-table');\nconst tableInfo = document.querySelector('.success-order-info-table');\nconst sectionSuccess = document.querySelector('.section--success');\nconst tableServicesBody = document.querySelector(\n  '.success-order-services-table tbody'\n);\nconst backToHomeBtn = document.querySelector('.back-to-home-btn');\nbackToHomeBtn.addEventListener('click', () =>\n  resetLocalStorage('userOrderDataObj')\n);\n\nfunction populateUserOrderTable() {\n  Object.entries(userOrderDataObj).forEach(([key, value]) => {\n    const element = document.querySelector(\n      `.success-order__value[data-field='${key}']`\n    );\n\n    if (element) {\n      element.textContent = value;\n      toggleRowDisplay(element.parentElement, value);\n    }\n  });\n}\n\nfunction setTotalOrderCostInTable(isComplexOrder) {\n  const cell = document.querySelector(\n    '.success-order--total[data-field=\"total\"]'\n  );\n  if (isComplexOrder) {\n    cell.textContent = calculateTotalCost(userOrderDataObj);\n  } else {\n    cell.textContent = '399zł';\n  }\n}\nfunction toggleRowDisplay(row, value) {\n  if (row) {\n    row.style.display = value ? '' : 'none';\n  }\n}\n\nfunction createTableRow(name, quantity, cost) {\n  const newRow = document.createElement('tr');\n  newRow.innerHTML = `\n    <th class=\"success-order__name\">${name}</th>\n    <td class=\"success-order__value success-order__quantity\">${quantity}</td>\n    <td class=\"success-order__value success-order__cost\">${cost}</td>\n  `;\n  return newRow;\n}\n\nfunction calculateTotalCost(obj) {\n  const { userSquare, userServices } = obj;\n  const parseCost = cost =>\n    parseFloat(cost.replace('zł', '').replace(',', '.'));\n\n  const squareCost = parseCost(userSquare.cost);\n  const totalServicesCost = userServices.reduce(\n    (acc, service) => acc + parseCost(service.cost),\n    0\n  );\n\n  return `${squareCost + totalServicesCost}zł`;\n}\n\nfunction populateUserServicesTable() {\n  const { userSquare, userServices } = userOrderDataObj;\n  const isComplexOrder =\n    userSquare.quantity.trim() !== '' || userSquare.cost.trim() !== '';\n\n  if (isComplexOrder) {\n    const newRow = createTableRow(\n      'Площа, м²',\n      userSquare.quantity,\n      userSquare.cost\n    );\n    appendElement(tableServicesBody, newRow);\n    populateServiceRows(userServices);\n  } else {\n    hideTable(tableServices);\n  }\n  setSectionSuccessStyle(isComplexOrder);\n  setTotalOrderCostInTable(isComplexOrder);\n}\n\nfunction populateServiceRows(userServices) {\n  userServices.forEach(({ name, quantity, cost }) => {\n    const serviceRow = createTableRow(name, quantity, cost);\n    appendElement(tableServicesBody, serviceRow);\n  });\n}\n\nfunction hideTable(table) {\n  table.style.display = 'none';\n}\n\nfunction setSectionSuccessStyle(isComplexOrder) {\n  if (isComplexOrder) {\n    sectionSuccess.classList.add('isComplexOrder');\n  } else {\n    sectionSuccess.classList.remove('isComplexOrder');\n  }\n}\n\nfunction showUserOrderResultData() {\n  if (userOrderDataObj) {\n    populateUserOrderTable();\n    populateUserServicesTable();\n  } else {\n    hideTable(tableInfo);\n    hideTable(tableServices);\n  }\n}\n\nshowUserOrderResultData();\n"],"names":["parcelRequire","$cKJBV","$9252d22436fc8dfd$var$userOrderDataObj","$1PyR0","getDataFromStorage","$9252d22436fc8dfd$var$tableServices","document","querySelector","$9252d22436fc8dfd$var$tableInfo","$9252d22436fc8dfd$var$sectionSuccess","$9252d22436fc8dfd$var$tableServicesBody","$9252d22436fc8dfd$var$setTotalOrderCostInTable","isComplexOrder","cell","textContent","obj","userSquare","userServices","parseCost","cost","parseFloat","replace","squareCost","totalServicesCost","reduce","acc","service","$9252d22436fc8dfd$var$calculateTotalCost","$9252d22436fc8dfd$var$createTableRow","name","quantity","newRow","createElement","innerHTML","$9252d22436fc8dfd$var$populateUserServicesTable","trim","appendElement","forEach","serviceRow","$9252d22436fc8dfd$var$populateServiceRows","$9252d22436fc8dfd$var$hideTable","classList","add","remove","$9252d22436fc8dfd$var$setSectionSuccessStyle","table","style","display","addEventListener","resetLocalStorage","Object","entries","key","value","element","row","$9252d22436fc8dfd$var$toggleRowDisplay","parentElement"],"version":3,"file":"success-order.b5da2d50.js.map"}