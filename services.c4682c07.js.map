{"mappings":"iiBAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,SAAaE,EAAYC,SAASC,cAAc,iBAC1CC,EAAiBF,SAASG,iBAAiB,iBAC3CC,EAAeJ,SAASC,cAAc,qBACtCI,EAAgBL,SAASG,iBAAiB,gBAChDJ,WAAWO,iBAAiB,UAsD5B,SAAsBC,GACpBA,EAAEC,iBACF,IAAMC,EAAWF,EAAEG,cAAcD,SAC3BE,EA9BR,SAAwBF,EAAUG,GAChC,OAAOA,EACJC,QAAO,SAAAC,G,MAAkD,KAArCL,EAASK,GAAWC,MAAMC,M,IAC9CC,KAAI,SAAAH,G,OAAaL,EAASK,E,IA2BFI,CAAeT,EAAUU,GACpDC,EAAYX,GAnBd,SAAuBE,GACrBU,QAAQC,IAAI,uBAAwBX,GACpCA,EAAmBY,SAAQ,SAAAC,GACzBA,EAAQC,UAAUC,IAAI,Q,IAiBxBC,CAAchB,GACd,IAAMiB,EAbEC,EAAA/B,EAAD,CAAII,GAAgB4B,MAAK,SAAAC,G,OAAOA,EAAIN,UAAUO,SAAS,S,IAcxDC,EAAatB,EAAmBuB,OAAS,EAC1CN,GACHO,IAEF,IAAKP,GAAuBK,EAC1B,OAEFZ,QAAQC,IAAI,UACZD,QAAQC,IAAI,aAAcb,E,IAnE5BP,EAAeqB,SAAQ,SAAAa,GACrBA,EAAG9B,iBAAiB,SAAS,SAAAC,IAuE/B,SAA+BA,GAC7B,IAAM8B,EAAgB9B,EAAE+B,OAAOC,QAAQ,UACvC,GAAIF,EAAcZ,UAAUO,SAAS,UAAW,OAC/CH,EAAA/B,EAAA,CAAGI,GAAgBqB,SAAQ,SAAAiB,GACtBA,IAAWH,EACbG,EAAOf,UAAUC,IAAI,UAErBc,EAAOf,UAAUgB,OAAO,S,IA7E1BC,CAAsBnC,IACSH,EAAaqB,UAAUO,SAAS,aAE7DG,G,OAIN9B,EAAckB,SAAQ,SAAAa,GACpBA,EAAG9B,iBAAiB,SAAS,WAC3B8B,EAAGX,UAAUgB,OAAO,Q,OAIxB,IAAMtB,EAAmB,CACvB,WACA,cACA,UACA,YACA,eACA,WACA,YASK,SAASC,EAAYX,GACzBoB,EAAA/B,EAAA,CAAGW,GAAUc,SAAQ,SAAAC,GACpBA,EAAQC,UAAUgB,OAAO,Q,IAe7B,SAASN,IACP/B,EAAaqB,UAAUkB,OAAO,W,CCvChC,SAASC,EAAYC,GACnB7C,SAAS8C,KAAKrB,UAAUkB,OAAO,GAAaI,OAAVF,EAAKG,KAAK,gBAC5CH,EAAKI,MAAMxB,UAAUkB,OAAO,oBACV,iBAAdE,EAAKG,MAAyB5B,EAAY,MAAArB,OAAA,EAAAA,EAAWU,S,CCjB3D,IDCgCoC,ECD1BK,EAAc,CAClBF,KAAM,UACNG,aAAcnD,SAASC,cAAc,6BACrCmD,cAAepD,SAASC,cAAc,8BACtCgD,MAAOjD,SAASC,cAAc,wBAC9BoD,SAAUrD,SAASC,cAAc,wBDJH4C,ECOhBK,GDNTC,aAAa7C,iBAAiB,SAAS,W,OAAMsC,EAAYC,E,IAC9DA,EAAKO,cAAc9C,iBAAiB,SAAS,SAAAC,GAC3CA,EAAE+C,kBACFV,EAAYC,E,IAEdA,EAAKQ,SAAS/C,iBAAiB,SAAS,SAAAC,GAClCA,EAAE+B,SAAWO,EAAKQ,UACpBT,EAAYC,E","sources":["src/js/services.js","src/js/modules/user-order-form.js","src/js/modules/modal.js","src/js/modules/support-modal.js"],"sourcesContent":["import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/modal.js';\nimport './modules/support-modal.js';\n","export const subscForm = document.querySelector('.subscr__form');\nconst paymentBtnList = document.querySelectorAll('.payment__btn');\nconst errorMessage = document.querySelector('.form__error-text');\nconst formInputList = document.querySelectorAll('.form__input');\nsubscForm?.addEventListener('submit', onSubmitForm);\n\npaymentBtnList.forEach(el => {\n  el.addEventListener('click', e => {\n    onPaymentTypeBtnClick(e);\n    const isErrorMessageVisible = !errorMessage.classList.contains('isHidden');\n    if (isErrorMessageVisible) {\n      togglePaymentTypeErrorVisibility();\n    }\n  });\n});\nformInputList.forEach(el => {\n  el.addEventListener('focus', () => {\n    el.classList.remove('error');\n  });\n});\n\nconst validationFields = [\n  'userName',\n  'userSurname',\n  'userTel',\n  'userEmail',\n  'userLocation',\n  'userDate',\n  'userTime',\n];\n\nfunction validateFields(elements, fieldNames) {\n  return fieldNames\n    .filter(fieldName => elements[fieldName].value.trim() === '')\n    .map(fieldName => elements[fieldName]);\n}\n\nexport function resetErrors(elements) {\n  [...elements].forEach(element => {\n    element.classList.remove('error');\n  });\n}\n\nfunction addErrorClass(elementsWithErrors) {\n  console.log('elementsWithErrors: ', elementsWithErrors);\n  elementsWithErrors.forEach(element => {\n    element.classList.add('error');\n  });\n}\n\nfunction checkIfPaymentTypeChosen() {\n  return [...paymentBtnList].some(btn => btn.classList.contains('active'));\n}\n\nfunction togglePaymentTypeErrorVisibility() {\n  errorMessage.classList.toggle('isHidden');\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const elements = e.currentTarget.elements;\n  const elementsWithErrors = validateFields(elements, validationFields);\n  resetErrors(elements);\n  addErrorClass(elementsWithErrors);\n  const isPaymentTypeChosen = checkIfPaymentTypeChosen();\n  const isAnyError = elementsWithErrors.length > 0;\n  if (!isPaymentTypeChosen) {\n    togglePaymentTypeErrorVisibility();\n  }\n  if (!isPaymentTypeChosen || isAnyError) {\n    return;\n  }\n  console.log('submit');\n  console.log('elements: ', elements);\n\n  // e.currentTarget.submit();\n}\n\nfunction onPaymentTypeBtnClick(e) {\n  const clickedButton = e.target.closest('button');\n  if (clickedButton.classList.contains('active')) return;\n  [...paymentBtnList].forEach(button => {\n    if (button === clickedButton) {\n      button.classList.add('active');\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n","import { resetErrors } from './user-order-form';\nimport { subscForm } from './user-order-form';\n\nexport function initializeModal(refs) {\n  refs.openModalBtn.addEventListener('click', () => toggleModal(refs));\n  refs.closeModalBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    toggleModal(refs);\n  });\n  refs.backdrop.addEventListener('click', e => {\n    if (e.target === refs.backdrop) {\n      toggleModal(refs);\n    }\n  });\n}\n\nfunction toggleModal(refs) {\n  document.body.classList.toggle(`${refs.name}-modal-open`);\n  refs.modal.classList.toggle('backdrop--hidden');\n  if (refs.name === 'subscription') resetErrors(subscForm?.elements);\n}\n","import { initializeModal } from './modal';\n\nconst refsSupport = {\n  name: 'support',\n  openModalBtn: document.querySelector('[data-support-modal-open]'),\n  closeModalBtn: document.querySelector('[data-support-modal-close]'),\n  modal: document.querySelector('[data-support-modal]'),\n  backdrop: document.querySelector('.backdrop--support'),\n};\n\ninitializeModal(refsSupport);\n"],"names":["parcelRequire","$8nrFW","$1cf185dc1d8d9889$export$ac2141f83bb6e17f","document","querySelector","$1cf185dc1d8d9889$var$paymentBtnList","querySelectorAll","$1cf185dc1d8d9889$var$errorMessage","$1cf185dc1d8d9889$var$formInputList","addEventListener","e","preventDefault","elements","currentTarget","elementsWithErrors","fieldNames","filter","fieldName","value","trim","map","$1cf185dc1d8d9889$var$validateFields","$1cf185dc1d8d9889$var$validationFields","$1cf185dc1d8d9889$export$16b70c0fc68d4705","console","log","forEach","element","classList","add","$1cf185dc1d8d9889$var$addErrorClass","isPaymentTypeChosen","$parcel$interopDefault","some","btn","contains","isAnyError","length","$1cf185dc1d8d9889$var$togglePaymentTypeErrorVisibility","el","clickedButton","target","closest","button","remove","$1cf185dc1d8d9889$var$onPaymentTypeBtnClick","toggle","$d39b81b5e37ca29a$var$toggleModal","refs","body","concat","name","modal","$a9ac19cf45cfaa9f$var$refsSupport","openModalBtn","closeModalBtn","backdrop","stopPropagation"],"version":3,"file":"services.c4682c07.js.map"}