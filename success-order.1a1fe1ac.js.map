{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,aAEA,MAAME,GAAmB,EAAAC,EAAAC,oBAAmB,oBACtCC,EAAgBC,SAASC,cAAc,iCACvCC,EAAYF,SAASC,cAAc,6BACnCE,EAAiBH,SAASC,cAAc,qBACxCG,EAAoBJ,SAASC,cACjC,uCA0BF,SAASI,EAAeC,EAAMC,EAAUC,GACtC,MAAMC,EAAST,SAASU,cAAc,MAMtC,OALAD,EAAOE,UAAY,yCACiBL,wEACyBC,oEACJC,aAElDC,C,CAGT,SAASG,IACP,MAAMC,WAAEA,EAAUC,aAAEA,GAAiBlB,EAC/BmB,EAC2B,KAA/BF,EAAWN,SAASS,QAA4C,KAA3BH,EAAWL,KAAKQ,OAEvD,GAAID,EAAgB,CAClB,MAAMN,EAASJ,EACb,YACAQ,EAAWN,SACXM,EAAWL,OAEb,EAAAb,EAAAsB,eAAcb,EAAmBK,GAQrC,SAA6BK,GAC3BA,EAAaI,SAAQ,EAACZ,KAAEA,EAAIC,SAAEA,EAAQC,KAAEA,MACtC,MAAMW,EAAad,EAAeC,EAAMC,EAAUC,IAClD,EAAAb,EAAAsB,eAAcb,EAAmBe,EAAW,G,CAV5CC,CAAoBN,E,MAEpBO,EAAUtB,IAgBd,SAAgCgB,GAC1BA,EACFZ,EAAemB,UAAUC,IAAI,kBAE7BpB,EAAemB,UAAUE,OAAO,iB,CAlBlCC,CAAuBV,E,CAUzB,SAASM,EAAUK,GACjBA,EAAMC,MAAMC,QAAU,M,CA7DF5B,SAASC,cAAc,qBAC/B4B,iBAAiB,SAAS,KACtC,EAAAhC,EAAAiC,mBAAkB,sBAuEdlC,GAnEJmC,OAAOC,QAAQpC,GAAkBsB,SAAQ,EAAEe,EAAKC,MAC9C,MAAMC,EAAUnC,SAASC,cACvB,qCAAqCgC,OAGnCE,IACFA,EAAQC,YAAcF,EAM5B,SAA0BG,EAAKH,GACzBG,IACFA,EAAIV,MAAMC,QAAUM,EAAQ,GAAK,O,CAP/BI,CAAiBH,EAAQI,cAAeL,G,IA8D1CtB,MAEAS,EAAUnB,GACVmB,EAAUtB","sources":["src/js/success-order.js","src/js/modules/success-order-table.js"],"sourcesContent":["import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/success-order-table.js';\n","import { appendElement } from './common';\nimport { getDataFromStorage, resetLocalStorage } from './local-storage';\nconst userOrderDataObj = getDataFromStorage('userOrderDataObj');\nconst tableServices = document.querySelector('.success-order-services-table');\nconst tableInfo = document.querySelector('.success-order-info-table');\nconst sectionSuccess = document.querySelector('.section--success');\nconst tableServicesBody = document.querySelector(\n  '.success-order-services-table tbody'\n);\nconst backToHomeBtn = document.querySelector('.back-to-home-btn');\nbackToHomeBtn.addEventListener('click', () =>\n  resetLocalStorage('userOrderDataObj')\n);\n\nfunction populateUserOrderTable() {\n  Object.entries(userOrderDataObj).forEach(([key, value]) => {\n    const element = document.querySelector(\n      `.success-order__value[data-field='${key}']`\n    );\n\n    if (element) {\n      element.textContent = value;\n      toggleRowDisplay(element.parentElement, value);\n    }\n  });\n}\n\nfunction toggleRowDisplay(row, value) {\n  if (row) {\n    row.style.display = value ? '' : 'none';\n  }\n}\n\nfunction createTableRow(name, quantity, cost) {\n  const newRow = document.createElement('tr');\n  newRow.innerHTML = `\n    <th class=\"success-order__name\">${name}</th>\n    <td class=\"success-order__value success-order__quantity\">${quantity}</td>\n    <td class=\"success-order__value success-order__cost\">${cost}</td>\n  `;\n  return newRow;\n}\n\nfunction populateUserServicesTable() {\n  const { userSquare, userServices } = userOrderDataObj;\n  const isComplexOrder =\n    userSquare.quantity.trim() !== '' || userSquare.cost.trim() !== '';\n\n  if (isComplexOrder) {\n    const newRow = createTableRow(\n      'Площа, м²',\n      userSquare.quantity,\n      userSquare.cost\n    );\n    appendElement(tableServicesBody, newRow);\n    populateServiceRows(userServices);\n  } else {\n    hideTable(tableServices);\n  }\n  setSectionSuccessStyle(isComplexOrder);\n}\n\nfunction populateServiceRows(userServices) {\n  userServices.forEach(({ name, quantity, cost }) => {\n    const serviceRow = createTableRow(name, quantity, cost);\n    appendElement(tableServicesBody, serviceRow);\n  });\n}\n\nfunction hideTable(table) {\n  table.style.display = 'none';\n}\n\nfunction setSectionSuccessStyle(isComplexOrder) {\n  if (isComplexOrder) {\n    sectionSuccess.classList.add('isComplexOrder');\n  } else {\n    sectionSuccess.classList.remove('isComplexOrder');\n  }\n}\n\nfunction showUserOrderResultData() {\n  if (userOrderDataObj) {\n    populateUserOrderTable();\n    populateUserServicesTable();\n  } else {\n    hideTable(tableInfo);\n    hideTable(tableServices);\n  }\n}\n\nshowUserOrderResultData();\n"],"names":["parcelRequire","$cKJBV","$9252d22436fc8dfd$var$userOrderDataObj","$1PyR0","getDataFromStorage","$9252d22436fc8dfd$var$tableServices","document","querySelector","$9252d22436fc8dfd$var$tableInfo","$9252d22436fc8dfd$var$sectionSuccess","$9252d22436fc8dfd$var$tableServicesBody","$9252d22436fc8dfd$var$createTableRow","name","quantity","cost","newRow","createElement","innerHTML","$9252d22436fc8dfd$var$populateUserServicesTable","userSquare","userServices","isComplexOrder","trim","appendElement","forEach","serviceRow","$9252d22436fc8dfd$var$populateServiceRows","$9252d22436fc8dfd$var$hideTable","classList","add","remove","$9252d22436fc8dfd$var$setSectionSuccessStyle","table","style","display","addEventListener","resetLocalStorage","Object","entries","key","value","element","textContent","row","$9252d22436fc8dfd$var$toggleRowDisplay","parentElement"],"version":3,"file":"success-order.1a1fe1ac.js.map"}