{"mappings":"YAAA,IAAMA,EAAc,CAClBC,KAAM,UACNC,aAAcC,SAASC,cAAc,6BACrCC,cAAeF,SAASC,cAAc,8BACtCE,MAAOH,SAASC,cAAc,wBAC9BG,SAAUJ,SAASC,cAAc,uBAG7BI,EAAa,CACjBP,KAAM,eACNC,aAAcC,SAASC,cAAc,kCACrCC,cAAeF,SAASC,cAAc,mCACtCE,MAAOH,SAASC,cAAc,6BAC9BG,SAAUJ,SAASC,cAAc,sBAGnC,SAASK,EAAgBC,GACvBA,EAAKR,aAAaS,iBAAiB,SAAS,W,OAAMC,EAAYF,E,IAC9DA,EAAKL,cAAcM,iBAAiB,SAAS,SAAAE,GAC3CA,EAAEC,kBACFF,EAAYF,E,IAEdA,EAAKH,SAASI,iBAAiB,SAAS,SAAAE,GAClCA,EAAEE,SAAWL,EAAKH,UAAUK,EAAYF,E,IAIhD,SAASE,EAAYF,GACnBP,SAASa,KAAKC,UAAUC,OAAO,GAAaC,OAAVT,EAAKT,KAAK,gBAC5CS,EAAKJ,MAAMW,UAAUC,OAAO,oBAC5BE,EAAYC,EAAUC,S,CAGxBb,EAAgBT,GAChBS,EAAgBD,GAEhB,IAAMa,EAAYlB,SAASC,cAAc,iBAsCzC,SAASgB,EAAYE,GACnBC,MAAMC,KAAKF,GAAUG,SAAQ,SAAAC,GAC3BA,EAAQT,UAAUU,OAAO,Q,IAvC7BN,EAAUV,iBAAiB,UAE3B,SAAsBE,GACpBA,EAAEe,iBACF,IAAMN,EAAWT,EAAEgB,cAAcP,SAW3BQ,EAUR,SAAwBR,EAAUS,GAChC,IAAMD,EAAqB,GAQ3B,OAPAC,EAAWN,SAAQ,SAAAO,GACjB,IAAMC,EAAaX,EAASU,GAAWE,MACvCC,QAAQC,IAAI,eAAgBH,GACF,IAAtBA,EAAWI,QACbP,EAAmBQ,KAAKhB,EAASU,G,IAG9BF,C,CAnBoBS,CAAejB,EAVjB,CACvB,gBACA,mBACA,eACA,iBACA,oBACA,gBACA,kBAIFF,EAAYE,GA2Bd,SAAuBQ,GACrBA,EAAmBL,SAAQ,SAAAC,GACzBA,EAAQT,UAAUuB,IAAI,Q,IA5BxBC,CAAcX,GAEoB,IAA9BA,EAAmBO,SACrBxB,EAAEgB,cAAca,SAChBC,OAAOC,SAASC,KAAO,qB","sources":["src/js/modal.js"],"sourcesContent":["const refsSupport = {\n  name: 'support',\n  openModalBtn: document.querySelector('[data-support-modal-open]'),\n  closeModalBtn: document.querySelector('[data-support-modal-close]'),\n  modal: document.querySelector('[data-support-modal]'),\n  backdrop: document.querySelector('.backdrop--support'),\n};\n\nconst refsSubscr = {\n  name: 'subscription',\n  openModalBtn: document.querySelector('[data-subscription-modal-open]'),\n  closeModalBtn: document.querySelector('[data-subscription-modal-close]'),\n  modal: document.querySelector('[data-subscription-modal]'),\n  backdrop: document.querySelector('.backdrop--subscr'),\n};\n\nfunction initializeModal(refs) {\n  refs.openModalBtn.addEventListener('click', () => toggleModal(refs));\n  refs.closeModalBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    toggleModal(refs);\n  });\n  refs.backdrop.addEventListener('click', e => {\n    if (e.target === refs.backdrop) toggleModal(refs);\n  });\n}\n\nfunction toggleModal(refs) {\n  document.body.classList.toggle(`${refs.name}-modal-open`);\n  refs.modal.classList.toggle('backdrop--hidden');\n  resetErrors(subscForm.elements);\n}\n\ninitializeModal(refsSupport);\ninitializeModal(refsSubscr);\n\nconst subscForm = document.querySelector('.subscr__form');\nsubscForm.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const elements = e.currentTarget.elements;\n  const validationFields = [\n    'modalUserName',\n    'modalUserSurname',\n    'modalUserTel',\n    'modalUserEmail',\n    'modalUserLocation',\n    'modalUserDate',\n    'modalUserTime',\n  ];\n\n  const elementsWithErrors = validateFields(elements, validationFields);\n  resetErrors(elements);\n  addErrorClass(elementsWithErrors);\n\n  if (elementsWithErrors.length === 0) {\n    e.currentTarget.submit();\n    window.location.href = 'success-order.html';\n  }\n}\n\nfunction validateFields(elements, fieldNames) {\n  const elementsWithErrors = [];\n  fieldNames.forEach(fieldName => {\n    const fieldValue = elements[fieldName].value;\n    console.log('fieldValue: ', fieldValue);\n    if (fieldValue.length === 0) {\n      elementsWithErrors.push(elements[fieldName]);\n    }\n  });\n  return elementsWithErrors;\n}\n\nfunction resetErrors(elements) {\n  Array.from(elements).forEach(element => {\n    element.classList.remove('error');\n  });\n}\n\nfunction addErrorClass(elementsWithErrors) {\n  elementsWithErrors.forEach(element => {\n    element.classList.add('error');\n  });\n}\n"],"names":["$40873ecf3c18e122$var$refsSupport","name","openModalBtn","document","querySelector","closeModalBtn","modal","backdrop","$40873ecf3c18e122$var$refsSubscr","$40873ecf3c18e122$var$initializeModal","refs","addEventListener","$40873ecf3c18e122$var$toggleModal","e","stopPropagation","target","body","classList","toggle","concat","$40873ecf3c18e122$var$resetErrors","$40873ecf3c18e122$var$subscForm","elements","Array","from","forEach","element","remove","preventDefault","currentTarget","elementsWithErrors","fieldNames","fieldName","fieldValue","value","console","log","length","push","$40873ecf3c18e122$var$validateFields","add","$40873ecf3c18e122$var$addErrorClass","submit","window","location","href"],"version":3,"file":"index.e242d369.js.map"}