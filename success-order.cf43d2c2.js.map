{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAGA,MAAME,GAAmB,EAAAC,EAAAC,oBAAmB,oBACtCC,EAAgBC,SAASC,cAAc,iCACvCC,EAAYF,SAASC,cAAc,6BACnCE,EAAiBH,SAASC,cAAc,qBACxCG,EAAoBJ,SAASC,cACjC,uCAqCF,SAASI,EAAeC,EAAMC,EAAUC,GACtC,MAAMC,EAAST,SAASU,cAAc,MAMtC,OALAD,EAAOE,UAAY,yCACiBL,wEACyBC,oEACJC,aAElDC,C,CAGT,SAASG,IACP,MAAMC,WAAEA,EAAUC,aAAEA,GAAiBlB,EAC/BmB,EAC2B,KAA/BF,EAAWN,SAASS,QAA4C,KAA3BH,EAAWL,KAAKQ,OAEvD,GAAID,EAAgB,CAClB,MAAMN,EAASJ,EACb,YACAQ,EAAWN,SACXM,EAAWL,OAEb,EAAAb,EAAAsB,eAAcb,EAAmBK,GASrC,SAA6BK,GAC3BA,EAAaI,SAAQ,EAACZ,KAAEA,EAAIC,SAAEA,EAAQC,KAAEA,MACtC,MAAMW,EAAad,EAAeC,EAAMC,EAAUC,IAClD,EAAAb,EAAAsB,eAAcb,EAAmBe,EAAW,G,CAX5CC,CAAoBN,E,MAEpBO,EAAUtB,IAiBd,SAAgCgB,GAC1BA,EACFZ,EAAemB,UAAUC,IAAI,kBAE7BpB,EAAemB,UAAUE,OAAO,iB,CAnBlCC,CAAuBV,GA3CzB,SAAkCA,GAChC,MAAMW,EAAO1B,SAASC,cACpB,6CAEF,GAAIc,EAAgB,CAClB,MAAMY,GAAQ,EAAAC,EAAAC,yBAAwBC,0BACtCJ,EAAKK,YAAcJ,C,MAEnBD,EAAKK,YAAc,O,CAoCrBC,CAAyBjB,E,CAU3B,SAASM,EAAUY,GACjBA,EAAMC,MAAMC,QAAU,M,CAzEFnC,SAASC,cAAc,qBAC/BmC,iBAAiB,SAAS,KACtC,EAAAvC,EAAAwC,mBAAkB,sBAmFdzC,GA/EJ0C,OAAOC,QAAQ3C,GAAkBsB,SAAQ,EAAEsB,EAAKb,MAC9C,MAAMc,EAAUzC,SAASC,cACvB,qCAAqCuC,OAGnCC,IACFA,EAAQV,YAAcJ,EAiB5B,SAA0Be,EAAKf,GACzBe,IACFA,EAAIR,MAAMC,QAAUR,EAAQ,GAAK,O,CAlB/BgB,CAAiBF,EAAQG,cAAejB,G,IA0E1Cf,MAEAS,EAAUnB,GACVmB,EAAUtB","sources":["src/js/success-order.js","src/js/modules/success-order-table.js"],"sourcesContent":["import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/success-order-table.js';\n","import { appendElement } from './common';\nimport { getDataFromStorage, resetLocalStorage } from './local-storage';\nimport { calculateTotalOrderCost } from './chose-services';\nconst userOrderDataObj = getDataFromStorage('userOrderDataObj');\nconst tableServices = document.querySelector('.success-order-services-table');\nconst tableInfo = document.querySelector('.success-order-info-table');\nconst sectionSuccess = document.querySelector('.section--success');\nconst tableServicesBody = document.querySelector(\n  '.success-order-services-table tbody'\n);\nconst backToHomeBtn = document.querySelector('.back-to-home-btn');\nbackToHomeBtn.addEventListener('click', () =>\n  resetLocalStorage('userOrderDataObj')\n);\n\nfunction populateUserOrderTable() {\n  Object.entries(userOrderDataObj).forEach(([key, value]) => {\n    const element = document.querySelector(\n      `.success-order__value[data-field='${key}']`\n    );\n\n    if (element) {\n      element.textContent = value;\n      toggleRowDisplay(element.parentElement, value);\n    }\n  });\n}\n\nfunction setTotalOrderCostInTable(isComplexOrder) {\n  const cell = document.querySelector(\n    '.success-order--total[data-field=\"total\"]'\n  );\n  if (isComplexOrder) {\n    const value = calculateTotalOrderCost(userServicesOrderInfoObj);\n    cell.textContent = value;\n  } else {\n    cell.textContent = '399zł';\n  }\n}\nfunction toggleRowDisplay(row, value) {\n  if (row) {\n    row.style.display = value ? '' : 'none';\n  }\n}\n\nfunction createTableRow(name, quantity, cost) {\n  const newRow = document.createElement('tr');\n  newRow.innerHTML = `\n    <th class=\"success-order__name\">${name}</th>\n    <td class=\"success-order__value success-order__quantity\">${quantity}</td>\n    <td class=\"success-order__value success-order__cost\">${cost}</td>\n  `;\n  return newRow;\n}\n\nfunction populateUserServicesTable() {\n  const { userSquare, userServices } = userOrderDataObj;\n  const isComplexOrder =\n    userSquare.quantity.trim() !== '' || userSquare.cost.trim() !== '';\n\n  if (isComplexOrder) {\n    const newRow = createTableRow(\n      'Площа, м²',\n      userSquare.quantity,\n      userSquare.cost\n    );\n    appendElement(tableServicesBody, newRow);\n    populateServiceRows(userServices);\n  } else {\n    hideTable(tableServices);\n  }\n  setSectionSuccessStyle(isComplexOrder);\n  setTotalOrderCostInTable(isComplexOrder);\n}\n\nfunction populateServiceRows(userServices) {\n  userServices.forEach(({ name, quantity, cost }) => {\n    const serviceRow = createTableRow(name, quantity, cost);\n    appendElement(tableServicesBody, serviceRow);\n  });\n}\n\nfunction hideTable(table) {\n  table.style.display = 'none';\n}\n\nfunction setSectionSuccessStyle(isComplexOrder) {\n  if (isComplexOrder) {\n    sectionSuccess.classList.add('isComplexOrder');\n  } else {\n    sectionSuccess.classList.remove('isComplexOrder');\n  }\n}\n\nfunction showUserOrderResultData() {\n  if (userOrderDataObj) {\n    populateUserOrderTable();\n    populateUserServicesTable();\n  } else {\n    hideTable(tableInfo);\n    hideTable(tableServices);\n  }\n}\n\nshowUserOrderResultData();\n"],"names":["parcelRequire","$cKJBV","$9252d22436fc8dfd$var$userOrderDataObj","$1PyR0","getDataFromStorage","$9252d22436fc8dfd$var$tableServices","document","querySelector","$9252d22436fc8dfd$var$tableInfo","$9252d22436fc8dfd$var$sectionSuccess","$9252d22436fc8dfd$var$tableServicesBody","$9252d22436fc8dfd$var$createTableRow","name","quantity","cost","newRow","createElement","innerHTML","$9252d22436fc8dfd$var$populateUserServicesTable","userSquare","userServices","isComplexOrder","trim","appendElement","forEach","serviceRow","$9252d22436fc8dfd$var$populateServiceRows","$9252d22436fc8dfd$var$hideTable","classList","add","remove","$9252d22436fc8dfd$var$setSectionSuccessStyle","cell","value","$3K9gQ","calculateTotalOrderCost","userServicesOrderInfoObj","textContent","$9252d22436fc8dfd$var$setTotalOrderCostInTable","table","style","display","addEventListener","resetLocalStorage","Object","entries","key","element","row","$9252d22436fc8dfd$var$toggleRowDisplay","parentElement"],"version":3,"file":"success-order.cf43d2c2.js.map"}