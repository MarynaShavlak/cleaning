{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","src/js/success-order.js","src/js/modules/scroll-to-top.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","src/js/modules/success-order-table.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/theme-toggler.js';\nimport './modules/scroll-to-top.js';\nimport './modules/success-order-table.js';\nimport './modules/location-modal.js';\n","const scrollToTopBtn = document.querySelector('.scroll-to-top-btn');\n\nfunction toggleButtonVisibility() {\n  if (window.scrollY >= 50) {\n    scrollToTopBtn.style.display = 'flex';\n  } else {\n    scrollToTopBtn.style.display = 'none';\n  }\n}\n\nfunction scrollToTop() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n\nwindow.addEventListener('scroll', toggleButtonVisibility, { passive: true });\nscrollToTopBtn.addEventListener('click', scrollToTop);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { appendElement } from './common';\nimport { getDataFromStorage, resetLocalStorage } from './local-storage';\nconst userOrderDataObj = getDataFromStorage('userOrderDataObj');\nconst tableServices = document.querySelector('.success-order-services-table');\nconst tableInfo = document.querySelector('.success-order-info-table');\nconst sectionSuccess = document.querySelector('.section--success');\nconst tableServicesBody = document.querySelector(\n  '.success-order-services-table tbody'\n);\nconst backToHomeBtn = document.querySelector('.back-to-home-btn');\nbackToHomeBtn.addEventListener('click', () =>\n  resetLocalStorage('userOrderDataObj')\n);\n\nfunction populateUserOrderTable() {\n  Object.entries(userOrderDataObj).forEach(([key, value]) => {\n    const element = document.querySelector(\n      `.success-order__value[data-field='${key}']`\n    );\n\n    if (element) {\n      element.textContent = value;\n      toggleRowDisplay(element.parentElement, value);\n    }\n  });\n}\n\nfunction setTotalOrderCostInTable(isComplexOrder) {\n  const cell = document.querySelector(\n    '.success-order--total[data-field=\"total\"]'\n  );\n  if (isComplexOrder) {\n    cell.textContent = calculateTotalCost(userOrderDataObj);\n  } else {\n    cell.textContent = '399zł';\n  }\n}\nfunction toggleRowDisplay(row, value) {\n  if (row) {\n    row.style.display = value ? '' : 'none';\n  }\n}\n\nfunction createTableRow(name, quantity, cost) {\n  const newRow = document.createElement('tr');\n  newRow.innerHTML = `\n    <th class=\"success-order__name\">${name}</th>\n    <td class=\"success-order__value success-order__quantity\">${quantity}</td>\n    <td class=\"success-order__value success-order__cost\">${cost}</td>\n  `;\n  return newRow;\n}\n\nfunction calculateTotalCost(obj) {\n  const { userSquare, userServices } = obj;\n  const parseCost = cost =>\n    parseFloat(cost.replace('zł', '').replace(',', '.'));\n\n  const squareCost = parseCost(userSquare.cost);\n  const totalServicesCost = userServices.reduce(\n    (acc, service) => acc + parseCost(service.cost),\n    0\n  );\n\n  return `${squareCost + totalServicesCost}zł`;\n}\n\nfunction populateUserServicesTable() {\n  const { userSquare, userServices } = userOrderDataObj;\n  const isComplexOrder =\n    userSquare.quantity.trim() !== '' || userSquare.cost.trim() !== '';\n\n  if (isComplexOrder) {\n    const newRow = createTableRow(\n      'Площа, м²',\n      userSquare.quantity,\n      userSquare.cost\n    );\n    appendElement(tableServicesBody, newRow);\n    populateServiceRows(userServices);\n  } else {\n    hideTable(tableServices);\n  }\n  setSectionSuccessStyle(isComplexOrder);\n  setTotalOrderCostInTable(isComplexOrder);\n}\n\nfunction populateServiceRows(userServices) {\n  userServices.forEach(({ name, quantity, cost }) => {\n    const serviceRow = createTableRow(name, quantity, cost);\n    appendElement(tableServicesBody, serviceRow);\n  });\n}\n\nfunction hideTable(table) {\n  table.style.display = 'none';\n}\n\nfunction setSectionSuccessStyle(isComplexOrder) {\n  if (isComplexOrder) {\n    sectionSuccess.classList.add('isComplexOrder');\n  } else {\n    sectionSuccess.classList.remove('isComplexOrder');\n  }\n}\n\nfunction showUserOrderResultData() {\n  if (userOrderDataObj) {\n    populateUserOrderTable();\n    populateUserServicesTable();\n  } else {\n    hideTable(tableInfo);\n    hideTable(tableServices);\n  }\n}\n\nshowUserOrderResultData();\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","TypeError","parcelRequire","$eecc79906464f1f8$var$scrollToTopBtn","document","querySelector","window","addEventListener","scrollY","style","display","passive","scrollTo","top","behavior","$111a013c31e2261e$exports","i","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","obj","__esModule","$859476f982c27b64$var$userOrderDataObj","$f8kn7","getDataFromStorage","$859476f982c27b64$var$tableServices","$859476f982c27b64$var$tableInfo","$859476f982c27b64$var$sectionSuccess","$859476f982c27b64$var$tableServicesBody","$859476f982c27b64$var$setTotalOrderCostInTable","isComplexOrder","userSquare","userServices","parseCost","squareCost","totalServicesCost","cell","textContent","cost","parseFloat","replace","reduce","acc","service","concat","$859476f982c27b64$var$createTableRow","name","quantity","newRow","createElement","innerHTML","$859476f982c27b64$var$populateUserServicesTable","trim","$6bPr4","appendElement","forEach","param","serviceRow","$859476f982c27b64$var$populateServiceRows","$859476f982c27b64$var$hideTable","classList","add","remove","$859476f982c27b64$var$setSectionSuccessStyle","table","resetLocalStorage","entries","key","_param","element","row","$859476f982c27b64$var$toggleRowDisplay","parentElement"],"version":3,"file":"success-order.d79f3a14.js.map"}