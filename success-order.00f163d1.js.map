{"mappings":"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","sources":["node_modules/@swc/helpers/lib/_array_with_holes.js","node_modules/@swc/helpers/lib/_non_iterable_rest.js","src/js/success-order.js","node_modules/@swc/helpers/lib/_sliced_to_array.js","src/js/modules/success-order-table.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _arrayWithHoles;\nfunction _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _nonIterableRest;\nfunction _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n","import './modules/common.js';\nimport './modules/aside-menu.js';\nimport './modules/theme-toggler.js';\nimport './modules/scroll-to-top.js';\nimport './modules/success-order-table.js';\nimport './modules/location-modal.js';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _slicedToArray;\nvar _arrayWithHoles = _interopRequireDefault(require(\"./_array_with_holes\"));\nvar _iterableToArray = _interopRequireDefault(require(\"./_iterable_to_array\"));\nvar _nonIterableRest = _interopRequireDefault(require(\"./_non_iterable_rest\"));\nvar _unsupportedIterableToArray = _interopRequireDefault(require(\"./_unsupported_iterable_to_array\"));\nfunction _slicedToArray(arr, i) {\n    return (0, _arrayWithHoles).default(arr) || (0, _iterableToArray).default(arr, i) || (0, _unsupportedIterableToArray).default(arr, i) || (0, _nonIterableRest).default();\n}\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : {\n        default: obj\n    };\n}\n","import { appendElement } from './common';\nimport { getDataFromStorage, resetLocalStorage } from './local-storage';\nconst userOrderDataObj = getDataFromStorage('userOrderDataObj');\nconst tableServices = document.querySelector('.success-order-services-table');\nconst tableInfo = document.querySelector('.success-order-info-table');\nconst sectionSuccess = document.querySelector('.section--success');\nconst tableServicesBody = document.querySelector(\n  '.success-order-services-table tbody'\n);\nconst backToHomeBtn = document.querySelector('.back-to-home-btn');\nbackToHomeBtn.addEventListener('click', () =>\n  resetLocalStorage('userOrderDataObj')\n);\n\nfunction populateUserOrderTable() {\n  Object.entries(userOrderDataObj).forEach(([key, value]) => {\n    const element = document.querySelector(\n      `.success-order__value[data-field='${key}']`\n    );\n\n    if (element) {\n      element.textContent = value;\n      toggleRowDisplay(element.parentElement, value);\n    }\n  });\n}\n\nfunction setTotalOrderCostInTable(isComplexOrder) {\n  const cell = document.querySelector(\n    '.success-order--total[data-field=\"total\"]'\n  );\n  if (isComplexOrder) {\n    cell.textContent = calculateTotalCost(userOrderDataObj);\n  } else {\n    cell.textContent = '399zł';\n  }\n}\nfunction toggleRowDisplay(row, value) {\n  if (row) {\n    row.style.display = value ? '' : 'none';\n  }\n}\n\nfunction createTableRow(name, quantity, cost) {\n  const newRow = document.createElement('tr');\n  newRow.innerHTML = `\n    <th class=\"success-order__name\">${name}</th>\n    <td class=\"success-order__value success-order__quantity\">${quantity}</td>\n    <td class=\"success-order__value success-order__cost\">${cost}</td>\n  `;\n  return newRow;\n}\n\nfunction calculateTotalCost(obj) {\n  const { userSquare, userServices } = obj;\n  const parseCost = cost =>\n    parseFloat(cost.replace('zł', '').replace(',', '.'));\n\n  const squareCost = parseCost(userSquare.cost);\n  const totalServicesCost = userServices.reduce(\n    (acc, service) => acc + parseCost(service.cost),\n    0\n  );\n\n  return `${squareCost + totalServicesCost}zł`;\n}\n\nfunction populateUserServicesTable() {\n  const { userSquare, userServices } = userOrderDataObj;\n  const isComplexOrder =\n    userSquare.quantity.trim() !== '' || userSquare.cost.trim() !== '';\n\n  if (isComplexOrder) {\n    const newRow = createTableRow(\n      'Площа, м²',\n      userSquare.quantity,\n      userSquare.cost\n    );\n    appendElement(tableServicesBody, newRow);\n    populateServiceRows(userServices);\n  } else {\n    hideTable(tableServices);\n  }\n  setSectionSuccessStyle(isComplexOrder);\n  setTotalOrderCostInTable(isComplexOrder);\n}\n\nfunction populateServiceRows(userServices) {\n  userServices.forEach(({ name, quantity, cost }) => {\n    const serviceRow = createTableRow(name, quantity, cost);\n    appendElement(tableServicesBody, serviceRow);\n  });\n}\n\nfunction hideTable(table) {\n  table.style.display = 'none';\n}\n\nfunction setSectionSuccessStyle(isComplexOrder) {\n  if (isComplexOrder) {\n    sectionSuccess.classList.add('isComplexOrder');\n  } else {\n    sectionSuccess.classList.remove('isComplexOrder');\n  }\n}\n\nfunction showUserOrderResultData() {\n  if (userOrderDataObj) {\n    populateUserOrderTable();\n    populateUserServicesTable();\n  } else {\n    hideTable(tableInfo);\n    hideTable(tableServices);\n  }\n}\n\nshowUserOrderResultData();\n"],"names":["Object","defineProperty","module","exports","value","default","arr","Array","isArray","TypeError","parcelRequire","$111a013c31e2261e$exports","i","$111a013c31e2261e$var$_arrayWithHoles","$111a013c31e2261e$var$_iterableToArray","$111a013c31e2261e$var$_unsupportedIterableToArray","$111a013c31e2261e$var$_nonIterableRest","$111a013c31e2261e$var$_interopRequireDefault","obj","__esModule","$859476f982c27b64$var$userOrderDataObj","$f8kn7","getDataFromStorage","$859476f982c27b64$var$tableServices","document","querySelector","$859476f982c27b64$var$tableInfo","$859476f982c27b64$var$sectionSuccess","$859476f982c27b64$var$tableServicesBody","$859476f982c27b64$var$setTotalOrderCostInTable","isComplexOrder","userSquare","userServices","parseCost","squareCost","totalServicesCost","cell","textContent","cost","parseFloat","replace","reduce","acc","service","concat","$859476f982c27b64$var$createTableRow","name","quantity","newRow","createElement","innerHTML","$859476f982c27b64$var$populateUserServicesTable","trim","$6bPr4","appendElement","forEach","param","serviceRow","$859476f982c27b64$var$populateServiceRows","$859476f982c27b64$var$hideTable","classList","add","remove","$859476f982c27b64$var$setSectionSuccessStyle","table","style","display","addEventListener","resetLocalStorage","entries","key","_param","element","row","$859476f982c27b64$var$toggleRowDisplay","parentElement"],"version":3,"file":"success-order.00f163d1.js.map"}