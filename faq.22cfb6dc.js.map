{"mappings":"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","sources":["src/js/modules/modal.js","src/js/modules/user-order-form.js","src/js/modules/subscr-modal.js"],"sourcesContent":["import { resetErrors } from './user-order-form';\nimport { subscForm } from './user-order-form';\n\nexport function initializeModal(refs) {\n  refs.openModalBtn.addEventListener('click', () => toggleModal(refs));\n  refs.closeModalBtn.addEventListener('click', e => {\n    e.stopPropagation();\n    toggleModal(refs);\n  });\n  refs.backdrop.addEventListener('click', e => {\n    if (e.target === refs.backdrop) {\n      toggleModal(refs);\n    }\n  });\n}\n\nexport function toggleModal(refs) {\n  document.body.classList.toggle(`${refs.name}-modal-open`);\n  refs.modal.classList.toggle('backdrop--hidden');\n  if (refs.name === 'subscription') resetErrors(subscForm?.elements);\n}\n","import { refsSubscr } from './subscr-modal';\nimport { toggleModal } from './modal';\nexport const subscForm = document.querySelector('.subscr__form');\nconst paymentBtnList = document.querySelectorAll('.payment__btn');\nconst errorMessage = document.querySelector('.form__error-text');\nconst formInputList = document.querySelectorAll('.form__input');\nsubscForm?.addEventListener('submit', onSubmitForm);\n\npaymentBtnList.forEach(el => {\n  el.addEventListener('click', e => {\n    onPaymentTypeBtnClick(e);\n    const isErrorMessageVisible = !errorMessage.classList.contains('isHidden');\n    if (isErrorMessageVisible) {\n      togglePaymentTypeErrorVisibility();\n    }\n  });\n});\nformInputList.forEach(el => {\n  el.addEventListener('focus', () => {\n    el.classList.remove('error');\n  });\n});\n\nconst validationFields = [\n  'userName',\n  'userSurname',\n  'userTel',\n  'userEmail',\n  'userLocation',\n  'userDate',\n  'userTime',\n];\n\nconst userOrderData = {\n  userTypePayment: '',\n};\n\nfunction validateFields(elements, fieldNames) {\n  return fieldNames\n    .filter(fieldName => elements[fieldName].value.trim() === '')\n    .map(fieldName => elements[fieldName]);\n}\n\nexport function resetErrors(elements) {\n  [...elements].forEach(element => {\n    element.classList.remove('error');\n  });\n}\n\nfunction addErrorClass(elementsWithErrors) {\n  console.log('elementsWithErrors: ', elementsWithErrors);\n  elementsWithErrors.forEach(element => {\n    element.classList.add('error');\n  });\n}\n\nfunction checkIfPaymentTypeChosen() {\n  return [...paymentBtnList].some(btn => btn.classList.contains('active'));\n}\n\nfunction togglePaymentTypeErrorVisibility() {\n  errorMessage.classList.toggle('isHidden');\n}\n\nfunction onSubmitForm(e) {\n  e.preventDefault();\n  const elements = e.currentTarget.elements;\n  const elementsWithErrors = validateFields(elements, validationFields);\n  resetErrors(elements);\n  addErrorClass(elementsWithErrors);\n  const isPaymentTypeChosen = checkIfPaymentTypeChosen();\n  const isAnyError = elementsWithErrors.length > 0;\n  if (!isPaymentTypeChosen) {\n    togglePaymentTypeErrorVisibility();\n  }\n  if (!isPaymentTypeChosen || isAnyError) {\n    return;\n  }\n  setOrderDataObj(e.target);\n  toggleModal(refsSubscr);\n}\n\nfunction onPaymentTypeBtnClick(e) {\n  const clickedButton = e.target.closest('button');\n  setPaymentTypeInOrderObj(clickedButton);\n  if (clickedButton.classList.contains('active')) return;\n  [...paymentBtnList].forEach(button => {\n    if (button === clickedButton) {\n      button.classList.add('active');\n    } else {\n      button.classList.remove('active');\n    }\n  });\n}\n\nfunction setPaymentTypeInOrderObj(paymentBtn) {\n  const paymentType = paymentBtn.getAttribute('data-id');\n  userOrderData.userTypePayment = paymentType;\n}\n\nfunction setOrderDataObj(form) {\n  const formData = new FormData(form);\n  formData.forEach((value, key) => {\n    if (key.startsWith('user')) {\n      userOrderData[key] = value;\n    }\n  });\n  console.log('userOrderData: ', userOrderData);\n}\n","import { initializeModal } from './modal';\n\nexport const refsSubscr = {\n  name: 'subscription',\n  openModalBtn: document.querySelector('[data-subscription-modal-open]'),\n  closeModalBtn: document.querySelector('[data-subscription-modal-close]'),\n  modal: document.querySelector('[data-subscription-modal]'),\n  backdrop: document.querySelector('.backdrop--subscr'),\n};\n\ninitializeModal(refsSubscr);\n"],"names":["$2u430","parcelRequire","$d39b81b5e37ca29a$export$aa9b0c0080dbe389","refs","openModalBtn","addEventListener","$d39b81b5e37ca29a$export$313c6d35f75fc0e","closeModalBtn","e","stopPropagation","backdrop","target","document","body","classList","toggle","concat","name","modal","resetErrors","subscForm","elements","$8nrFW","$1cf185dc1d8d9889$export$ac2141f83bb6e17f","querySelector","$1cf185dc1d8d9889$var$paymentBtnList","querySelectorAll","$1cf185dc1d8d9889$var$errorMessage","$1cf185dc1d8d9889$var$formInputList","preventDefault","currentTarget","elementsWithErrors","fieldNames","filter","fieldName","value","trim","map","$1cf185dc1d8d9889$var$validateFields","$1cf185dc1d8d9889$var$validationFields","$1cf185dc1d8d9889$export$16b70c0fc68d4705","console","log","forEach","element","add","$1cf185dc1d8d9889$var$addErrorClass","isPaymentTypeChosen","$parcel$interopDefault","some","btn","contains","isAnyError","length","$1cf185dc1d8d9889$var$togglePaymentTypeErrorVisibility","form","FormData","key","startsWith","$1cf185dc1d8d9889$var$userOrderData","$ianEp","toggleModal","$1FpXB","refsSubscr","el","clickedButton","closest","paymentBtn","paymentType","getAttribute","userTypePayment","$1cf185dc1d8d9889$var$setPaymentTypeInOrderObj","button","remove","$1cf185dc1d8d9889$var$onPaymentTypeBtnClick","$136dc1f1ad329322$export$6406821d17d9075f","initializeModal"],"version":3,"file":"faq.22cfb6dc.js.map"}